–í —Ä–∞–±–æ—Ç–µ –ø—Ä–æ–≤–µ–¥–µ–Ω –∞–Ω–∞–ª–∏–∑ –º–µ—Ç–æ–¥–æ–≤ –æ–ø—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ—Ç–æ–∫–∞ (optical flow) –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –ø–æ–¥–≤–æ–¥–Ω–æ–≥–æ –≤–∏–¥–µ–æ —Å —Ä—ã–±–∞–º–∏. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ —Å—Ä–∞–≤–Ω–µ–Ω—ã –¥–≤–∞ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–∞:

1. **Lucas-Kanade (LK)** ‚Äî —Ä–∞–∑—Ä–µ–∂–µ–Ω–Ω—ã–π (sparse) –º–µ—Ç–æ–¥ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã—Ö —Ç–æ—á–µ–∫
2. **Farneb√§ck** ‚Äî –ø–ª–æ—Ç–Ω—ã–π (dense) –º–µ—Ç–æ–¥ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –æ–ø—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –¥–ª—è –≤—Å–µ—Ö –ø–∏–∫—Å–µ–ª–µ–π

–¶–µ–ª—å: –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–µ—Ç–æ–¥–æ–≤ –∫ —Ä–∞–∑–ª–∏—á–Ω—ã–º —É—Å–ª–æ–≤–∏—è–º (—Ç–µ–∫—Å—Ç—É—Ä–∞, —Ä–∞–∑–º—ã—Ç–∏–µ, —Ç–µ–Ω–∏, —à—É–º) –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞.

## –î–∞–Ω–Ω—ã–µ

- **–í–∏–¥–µ–æ:** –ü–æ–¥–≤–æ–¥–Ω–∞—è —Å—ä–µ–º–∫–∞ —Å—Ç–∞–∏ —Ä—ã–± (4K —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ)
- **–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ:** 3840 √ó 2160 –ø–∏–∫—Å–µ–ª–µ–π
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–¥—Ä–æ–≤:** 150
- **Framerate:** 30 fps
- **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 5 —Å–µ–∫—É–Ω–¥
- **–°—Ü–µ–Ω–∞:** –°—Ç–∞—Ç–∏—á–Ω–∞—è –∫–∞–º–µ—Ä–∞, –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–≤–∏–∂—É—â–∏–µ—Å—è –æ–±—ä–µ–∫—Ç—ã, –ø–µ—Å—á–∞–Ω–æ–µ –¥–Ω–æ, —Ä—è–±—å –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –≤–æ–¥—ã


### 1. Lucas-Kanade (Sparse Optical Flow)

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

```python
# –î–µ—Ç–µ–∫—Ü–∏—è —É–≥–ª–æ–≤ (goodFeaturesToTrack)
feature_params = {
    'maxCorners': 200,          # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ—á–µ–∫
    'qualityLevel': 0.01,       # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ —É–≥–ª–∞
    'minDistance': 30,          # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏
    'blockSize': 7              # –†–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞
}

# –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ (calcOpticalFlowPyrLK)
lk_params = {
    'winSize': (21, 21),        # –†–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –ø–æ–∏—Å–∫–∞
    'maxLevel': 3,              # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∏—Ä–∞–º–∏–¥–∞–ª—å–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π
    'criteria': (TERM_CRITERIA_EPS | TERM_CRITERIA_COUNT, 30, 0.01)
}
```

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
1. –î–µ—Ç–µ–∫—Ü–∏—è —É–≥–ª–æ–≤ Shi-Tomasi –Ω–∞ –ø–µ—Ä–≤–æ–º –∫–∞–¥—Ä–µ
2. –ü–∏—Ä–∞–º–∏–¥–∞–ª—å–Ω—ã–π Lucas-Kanade –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ç–æ—á–µ–∫ –º–µ–∂–¥—É –∫–∞–¥—Ä–∞–º–∏
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è (forward-backward error)
4. –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π –¥–≤–∏–∂–µ–Ω–∏—è

**–ü—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã:**
- –ü–∏—Ä–∞–º–∏–¥–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (3 —É—Ä–æ–≤–Ω—è) –¥–ª—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –±–æ–ª—å—à–∏—Ö —Å–º–µ—â–µ–Ω–∏–π
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö —Ç–æ—á–µ–∫ –ø–æ —Ñ–ª–∞–≥—É —Å—Ç–∞—Ç—É—Å–∞
- –û—Ç—Å–µ–≤ —Ç–æ—á–µ–∫, –≤—ã—à–µ–¥—à–∏—Ö –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –∫–∞–¥—Ä–∞

---

### 2. Farneb√§ck (Dense Optical Flow)

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

```python
farneback_params = {
    'pyr_scale': 0.5,           # –ú–∞—Å—à—Ç–∞–± –ø–∏—Ä–∞–º–∏–¥—ã (0.5 = —É–º–µ–Ω—å—à–µ–Ω–∏–µ –≤ 2 —Ä–∞–∑–∞)
    'levels': 3,                # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∏—Ä–∞–º–∏–¥–∞–ª—å–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π
    'winsize': 15,              # –†–∞–∑–º–µ—Ä –æ–∫–Ω–∞ —É—Å—Ä–µ–¥–Ω–µ–Ω–∏—è
    'iterations': 3,            # –ò—Ç–µ—Ä–∞—Ü–∏–∏ –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ
    'poly_n': 5,                # –†–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –ø–æ–ª–∏–Ω–æ–º–∏–∞–ª—å–Ω–æ–π –∞–ø–ø—Ä–æ–∫—Å–∏–º–∞—Ü–∏–∏
    'poly_sigma': 1.2,          # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –ì–∞—É—Å—Å–∏–∞–Ω–∞
    'flags': 0                  # –§–ª–∞–≥–∏ (0 = —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–µ–∂–∏–º)
}
```

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
1. –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø–ª–æ—Ç–Ω–æ–≥–æ –æ–ø—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –º–µ–∂–¥—É –¥–≤—É–º—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º–∏ –∫–∞–¥—Ä–∞–º–∏
2. –ü–æ–ª–∏–Ω–æ–º–∏–∞–ª—å–Ω–∞—è –∞–ø–ø—Ä–æ–∫—Å–∏–º–∞—Ü–∏—è –æ–∫—Ä–µ—Å—Ç–Ω–æ—Å—Ç–∏ –∫–∞–∂–¥–æ–≥–æ –ø–∏–∫—Å–µ–ª—è
3. –†–∞—Å—á—ë—Ç –º–∞–≥–Ω–∏—Ç—É–¥—ã (—Å–∫–æ—Ä–æ—Å—Ç–∏) –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–µ–∫—Ç–æ—Ä–∞

**–ü—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã:**
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –ø–æ—Ä–æ–≥:** Threshold = 85-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å –º–∞–≥–Ω–∏—Ç—É–¥—ã –ø–æ—Ç–æ–∫–∞ (–æ—Ç—Å–µ–∫–∞–µ—Ç —Å—Ç–∞—Ç–∏—á–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏)
- **–ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:** Opening (—ç—Ä–æ–∑–∏—è + –¥–∏–ª–∞—Ç–∞—Ü–∏—è) –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —à—É–º–∞
  ```python
  kernel = cv2.getStructuringElement(cv2.MORPH_ELLIPSE, (5, 5))
  mask = cv2.morphologyEx(mask, cv2.MORPH_OPEN, kernel)
  ```
- **–¶–≤–µ—Ç–æ–≤–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (HSV):**
  - Hue (–æ—Ç—Ç–µ–Ω–æ–∫) = –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è
  - Saturation = –Ω–∞—Å—ã—â–µ–Ω–Ω–æ—Å—Ç—å (–≤—Å–µ–≥–¥–∞ 255)
  - Value (—è—Ä–∫–æ—Å—Ç—å) = —Å–∫–æ—Ä–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è

---

### –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

#### 1. **–¢–µ–∫—Å—Ç—É—Ä–∞ (Gradient Magnitude)**
- –ú–µ—Ç–æ–¥: –§–∏–ª—å—Ç—Ä –°–æ–±–µ–ª—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–≤
- –û—Ü–µ–Ω–∫–∞: –°—Ä–µ–¥–Ω—è—è –º–∞–≥–Ω–∏—Ç—É–¥–∞ –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞ –ø–æ 4 –∫–≤–∞–¥—Ä–∞–Ω—Ç–∞–º –∫–∞–¥—Ä–∞
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°—Ä–µ–¥–Ω–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç = 14.08 (–Ω–∏–∑–∫–∞—è/—Å—Ä–µ–¥–Ω—è—è —Ç–µ–∫—Å—Ç—É—Ä–∞)
- **–í—ã–≤–æ–¥:** –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è LK –±–ª–∞–≥–æ–¥–∞—Ä—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–º –∫—Ä–∞—è–º —Ä—ã–±

#### 2. **Motion Blur (Laplacian Variance)**
- –ú–µ—Ç–æ–¥: –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –¥–∏—Å–ø–µ—Ä—Å–∏–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –õ–∞–ø–ª–∞—Å–∞
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** Variance = 5.85 (–æ—á–µ–Ω—å —Å–∏–ª—å–Ω–æ–µ —Ä–∞–∑–º—ã—Ç–∏–µ)
- **–í—ã–≤–æ–¥:** –ù–∏–∑–∫–∞—è —Ä–µ–∑–∫–æ—Å—Ç—å –∏–∑-–∑–∞ –¥–≤–∏–∂–µ–Ω–∏—è –≤–æ–¥—ã –∏ –∫–æ–º–ø—Ä–µ—Å—Å–∏–∏ –≤–∏–¥–µ–æ. LK –º–æ–∂–µ—Ç —Ç–µ—Ä—è—Ç—å —Ç–æ—á–∫–∏ –Ω–∞ –±—ã—Å—Ç—Ä—ã—Ö –¥–≤–∏–∂–µ–Ω–∏—è—Ö.

#### 3. **–¢–µ–Ω–∏ (Shadow Detection)**
- –ú–µ—Ç–æ–¥: –ü–æ—Ä–æ–≥–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (–ø–∏–∫—Å–µ–ª–∏ < 80)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** 32.9% —Ç—ë–º–Ω—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π
- **–í—ã–≤–æ–¥:** –ù–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –ø–æ–¥–≤–æ–¥–Ω–æ–π —Å—ä–µ–º–∫–∏. –û–±–∞ –º–µ—Ç–æ–¥–∞ —É—Å—Ç–æ–π—á–∏–≤—ã –∫ —Ç–µ–Ω—è–º.

#### 4. **–®—É–º (High-Frequency Components)**
- –ú–µ—Ç–æ–¥: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —Ä–∞–∑–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–º –∏ Gaussian Blur
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** Noise std = 0.89 (–æ—á–µ–Ω—å –Ω–∏–∑–∫–∏–π)
- **–í—ã–≤–æ–¥:** –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –≤–∏–¥–µ–æ, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–∞–º–µ—Ä–∞.

---

### Lucas-Kanade

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è |
|---------|----------|---------------|
| –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ —É–≥–ª–æ–≤ | 200 | –ú–∞–∫—Å–∏–º—É–º –¥–ª—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞ |
| –£—Å–ø–µ—à–Ω–æ –æ—Ç—Å–ª–µ–∂–µ–Ω–æ | 199 (99.5%) | –û—Ç–ª–∏—á–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å |
| –ü–æ—Ç–µ—Ä—è–Ω–æ –∫ –∫–æ–Ω—Ü—É –≤–∏–¥–µ–æ | 100 (50%) | –†—ã–±—ã –≤—ã—Ö–æ–¥—è—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –∫–∞–¥—Ä–∞ |
| –°—Ä–µ–¥–Ω—è—è –¥–ª–∏–Ω–∞ —Ç—Ä–µ–∫–∞ | 118.1 –∫–∞–¥—Ä–æ–≤ | 79% –æ—Ç –¥–ª–∏–Ω—ã –≤–∏–¥–µ–æ |
| –°—Ä–µ–¥–Ω–µ–µ —Å–º–µ—â–µ–Ω–∏–µ | 546.6 px | –£–º–µ—Ä–µ–Ω–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ |
| –ú–∞–∫—Å. —Å–º–µ—â–µ–Ω–∏–µ | 2267 px | ~60% —à–∏—Ä–∏–Ω—ã –∫–∞–¥—Ä–∞ |
| –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ (1 –∫–∞–¥—Ä) | ~10-15 –º—Å | **Real-time** (66 fps) |

**–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è:**
-  –¢–æ—á–∫–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è –Ω–∞ –∫—Ä–∞—è—Ö —Ä—ã–±, –ø–ª–∞–≤–Ω–∏–∫–∞—Ö
-  Sub-pixel —Ç–æ—á–Ω–æ—Å—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
-  –ù–∞ –≥–ª–∞–¥–∫–æ–º –ø–µ—Å—á–∞–Ω–æ–º –¥–Ω–µ —Ç–æ—á–µ–∫ –º–∞–ª–æ (–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–µ–∫—Å—Ç—É—Ä—ã)
-  –¢–æ—á–∫–∏ —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –æ–±—ä–µ–∫—Ç–æ–≤ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –∫–∞–¥—Ä–∞

---

### Farneb√§ck

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è |
|---------|----------|---------------|
| –†–∞–∑–º–µ—Ä –ø–æ–ª—è –ø–æ—Ç–æ–∫–∞ | 2160 √ó 3840 √ó 2 | 8.3M –≤–µ–∫—Ç–æ—Ä–æ–≤ |
| –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ (1 –∫–∞–¥—Ä) | 1744.6 –º—Å | Offline-–æ–±—Ä–∞–±–æ—Ç–∫–∞ |
| –°—Ä–µ–¥–Ω—è—è –∞–º–ø–ª–∏—Ç—É–¥–∞ | 1.91 px/frame | –ú–µ–¥–ª–µ–Ω–Ω–æ–µ –ø–ª–∞–≤–∞–Ω–∏–µ |
| –ú–∞–∫—Å. –∞–º–ø–ª–∏—Ç—É–¥–∞ | 2.56 px/frame | –ü–∏–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–∫–∞–¥—Ä 45) |
| –ú–∏–Ω. –∞–º–ø–ª–∏—Ç—É–¥–∞ | 1.18 px/frame | –°–ø–æ–∫–æ–π–Ω–∞—è —Ñ–∞–∑–∞ (–∫–∞–¥—Ä 80) |
| –ü—Ä–æ—Ü–µ–Ω—Ç –¥–≤–∏–∂—É—â–∏—Ö—Å—è –ø–∏–∫—Å–µ–ª–µ–π | 14.8% | ~1.25M –ø–∏–∫—Å–µ–ª–µ–π |
| –®—É–º –≤ —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö –æ–±–ª–∞—Å—Ç—è—Ö | 0.001 px/frame | –ò–¥–µ–∞–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏–∫–∏/–¥–∏–Ω–∞–º–∏–∫–∏ |

**–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è:**
-  –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–∞–¥—Ä–∞, –≤–∫–ª—é—á–∞—è –æ–±–ª–∞—Å—Ç–∏ –±–µ–∑ —Ç–µ–∫—Å—Ç—É—Ä—ã
-  –ò–¥–µ–∞–ª—å–Ω–æ –≤—ã–¥–µ–ª—è–µ—Ç —Å—Ç–∞—Ç–∏—á–Ω–æ–µ –¥–Ω–æ (—à—É–º < 0.001)
-  –£—Å—Ç–æ–π—á–∏–≤ –∫ —Ä–∞–∑–º—ã—Ç–∏—é (–≤—ã–¥–∞—ë—Ç —Å–≥–ª–∞–∂–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫)
-  –í 116 —Ä–∞–∑ –º–µ–¥–ª–µ–Ω–Ω–µ–µ Lucas-Kanade
-  –ú–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —à—É–º–Ω—ã–π –ø–æ—Ç–æ–∫ –≤ –æ–¥–Ω–æ—Ä–æ–¥–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–∞—Ö (–≤–æ–¥–∞, –Ω–µ–±–æ)

---

### Motion Segmentation

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è |
|---------|----------|---------------|
| –°—Ä–µ–¥–Ω–µ–µ —á–∏—Å–ª–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç | 967 | –í—ã—Å–æ–∫–∞—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è |
| –î–∏–∞–ø–∞–∑–æ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç | 802 - 1123 | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å—Ç–∞–∏ |
| –°—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã | 1293 px (~36√ó36 px) | –ú–µ–ª–∫–∏–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã |

**–ü—Ä–∏—á–∏–Ω—ã —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–∏:**
1. –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–∑–±–∏–≤–∞–µ—Ç –∫—Ä—É–ø–Ω—ã—Ö —Ä—ã–± –Ω–∞ —á–∞—Å—Ç–∏ (—Ç–µ–ª–æ/—Ö–≤–æ—Å—Ç –æ—Ç–¥–µ–ª—å–Ω–æ)
2. –ú–Ω–æ–≥–æ –º–µ–ª–∫–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (~50-100 —Ä—ã–±)
3. –°—Ç—Ä–æ–≥–∏–π –ø–æ—Ä–æ–≥ (85-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å) –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ (closing) —Å —è–¥—Ä–æ–º 7√ó7 –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤.

---

## –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑: Lucas-Kanade vs Farneb√§ck

### –¢–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

| –ö—Ä–∏—Ç–µ—Ä–∏–π | Lucas-Kanade | Farneb√§ck | –ü–æ–±–µ–¥–∏—Ç–µ–ª—å |
|----------|--------------|-----------|------------|
| **–°–∫–æ—Ä–æ—Å—Ç—å** | ~15 –º—Å/–∫–∞–¥—Ä | ~1745 –º—Å/–∫–∞–¥—Ä |  **LK (116√ó –±—ã—Å—Ç—Ä–µ–µ)** |
| **–¢–æ—á–Ω–æ—Å—Ç—å** | Sub-pixel | –°–≥–ª–∞–∂–µ–Ω–Ω–∞—è |  **LK** |
| **–ü–æ–∫—Ä—ã—Ç–∏–µ** | 200 —Ç–æ—á–µ–∫ | 8.3M –≤–µ–∫—Ç–æ—Ä–æ–≤ |  **Farneb√§ck** |
| **–ü–∞–º—è—Ç—å** | ~10 KB | ~60 MB |  **LK** |
| **–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Ä–∞–∑–º—ã—Ç–∏—é** | –ù–∏–∑–∫–∞—è | –°—Ä–µ–¥–Ω—è—è |  **Farneb√§ck** |
| **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ç–µ–∫—Å—Ç—É—Ä–µ** | –í—ã—Å–æ–∫–∏–µ (–Ω—É–∂–Ω—ã —É–≥–ª—ã) | –ù–∏–∑–∫–∏–µ | **Farneb√§ck** |
| **Segmentation** |  –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç |  –ü–æ–¥—Ö–æ–¥–∏—Ç |  **Farneb√§ck** |
| **Object tracking** |  –û–ø—Ç–∏–º–∞–ª—å–Ω–æ |  –ò–∑–±—ã—Ç–æ—á–Ω–æ |  **LK** |
| **–®—É–º –≤ —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö –æ–±–ª–∞—Å—Ç—è—Ö** | N/A | 0.001 px/frame | üü∞ **–û–±–∞ —Ö–æ—Ä–æ—à–∏** |

---

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Lucas-Kanade?

- **Real-time –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** (>25 fps —Ç—Ä–µ–±—É–µ—Ç—Å—è)
- **Tracking –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤** (–ª–∏—Ü–∞, —É–≥–ª—ã, –º–∞—Ä–∫–µ—Ä—ã)
- **Video stabilization** (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ 100-200 —Ç–æ—á–µ–∫)
- **AR/VR tracking** (–Ω–∏–∑–∫–∞—è –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∫—Ä–∏—Ç–∏—á–Ω–∞)
- **Mobile devices** (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã)
- **–°—Ü–µ–Ω—ã —Å –±–æ–≥–∞—Ç–æ–π —Ç–µ–∫—Å—Ç—É—Ä–æ–π** (—É–≥–ª—ã, –∫—Ä–∞—è —Ö–æ—Ä–æ—à–æ –≤–∏–¥–Ω—ã)

 **–ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç:**
- Motion segmentation (–Ω—É–∂–Ω–æ dense –ø–æ–∫—Ä—ã—Ç–∏–µ)
- –°—Ü–µ–Ω—ã –±–µ–∑ —Ç–µ–∫—Å—Ç—É—Ä—ã (–Ω–µ–±–æ, –≥–ª–∞–¥–∫–∏–µ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏)
- Video compression (–Ω—É–∂–Ω—ã motion vectors –¥–ª—è –≤—Å–µ—Ö –º–∞–∫—Ä–æ–±–ª–æ–∫–æ–≤)

---

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Farneb√§ck?

- **Motion segmentation** (–≤—ã–¥–µ–ª–µ–Ω–∏–µ –¥–≤–∏–∂—É—â–∏—Ö—Å—è –æ–±–ª–∞—Å—Ç–µ–π)
- **Video compression** (MPEG, H.264 motion estimation)
- **Crowd analysis** (–º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤)
- **Medical imaging** (–¥–µ—Ñ–æ—Ä–º–∞—Ü–∏—è —Ç–∫–∞–Ω–µ–π, —Å–µ—Ä–¥–µ—á–Ω–∞—è —Å—Ç–µ–Ω–∫–∞)
- **Autonomous driving** (dense depth estimation)
- **–°—Ü–µ–Ω—ã –±–µ–∑ —Ç–µ–∫—Å—Ç—É—Ä—ã** (—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –æ–¥–Ω–æ—Ä–æ–¥–Ω—ã—Ö –æ–±–ª–∞—Å—Ç—è—Ö)

 **–ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç:**
- Real-time –Ω–∞ CPU (—Å–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω–æ)
- Mobile devices (—Ç—Ä–µ–±—É–µ—Ç –º–Ω–æ–≥–æ –ø–∞–º—è—Ç–∏)
- –ü—Ä–æ—Å—Ç–æ–π object tracking (–∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å)

---

### –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –≤–∏–¥–µ–æ)

**–û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è:**

1. **Lucas-Kanade** –¥–ª—è:
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ä—ã–±
   - –ê–Ω–∞–ª–∏–∑–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ –¥–≤–∏–∂–µ–Ω–∏—è –∫–ª—é—á–µ–≤—ã—Ö —Ç–æ—á–µ–∫
   - –ë—ã—Å—Ç—Ä–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

2. **Farneb√§ck** –¥–ª—è:
   - Segmentation –¥–≤–∏–∂—É—â–∏—Ö—Å—è –æ–±–ª–∞—Å—Ç–µ–π
   - –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ motion field
   - –ê–Ω–∞–ª–∏–∑–∞ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è —Å—Ç–∞–∏
   - –ü–æ–¥—Å—á—ë—Ç–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–≤–∏–∂—É—â–∏—Ö—Å—è –ø–∏–∫—Å–µ–ª–µ–π

---

## –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã

1. **Lucas-Kanade –ø–æ–∫–∞–∑–∞–ª 99.5% —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è** –±–ª–∞–≥–æ–¥–∞—Ä—è –±–æ–≥–∞—Ç–æ–π —Ç–µ–∫—Å—Ç—É—Ä–µ –Ω–∞ –∫—Ä–∞—è—Ö —Ä—ã–± –∏ –ø–ª–∞–≤–Ω–∏–∫–æ–≤.

2. **–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –ø–æ—Ç–µ—Ä–∏ —Ç–æ—á–µ–∫ (50% –∫ –∫–æ–Ω—Ü—É –≤–∏–¥–µ–æ)** ‚Äî –≤—ã—Ö–æ–¥ —Ä—ã–± –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –∫–∞–¥—Ä–∞, –∞ –Ω–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞.

3. **Farneb√§ck –∏–¥–µ–∞–ª—å–Ω–æ —Ä–∞–∑–¥–µ–ª–∏–ª —Å—Ç–∞—Ç–∏–∫—É –∏ –¥–∏–Ω–∞–º–∏–∫—É** ‚Äî —à—É–º –≤ —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö –æ–±–ª–∞—Å—Ç—è—Ö —Å–æ—Å—Ç–∞–≤–∏–ª –≤—Å–µ–≥–æ 0.001 px/frame, —á—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∫–∞–º–µ—Ä—ã.

4. **–í—ã—Å–æ–∫–∞—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è (967 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)** –æ–±—ä—è—Å–Ω—è–µ—Ç—Å—è —Ç–µ–º, —á—Ç–æ:
   - –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–∑–±–∏–≤–∞–µ—Ç –∫—Ä—É–ø–Ω—ã—Ö —Ä—ã–± –Ω–∞ —á–∞—Å—Ç–∏ –∏–∑-–∑–∞ —Ä–∞–∑–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ç–µ–ª–∞ –∏ —Ö–≤–æ—Å—Ç–∞
   - –í –∫–∞–¥—Ä–µ ~50-100 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ä—ã–±
   - –°—Ç—Ä–æ–≥–∏–π threshold (85-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å) –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ

5. **–ù–∏–∑–∫–æ–µ Laplacian variance (5.85)** —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ä–∞–∑–º—ã—Ç–∏–µ/–Ω–∏–∑–∫–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç:
   - –î–≤–∏–∂–µ–Ω–∏–µ –≤–æ–¥—ã —Å–æ–∑–¥–∞—ë—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ä–∞–∑–º—ã—Ç–∏–µ
   - –ö–æ–º–ø—Ä–µ—Å—Å–∏—è –≤–∏–¥–µ–æ —Å–Ω–∏–∂–∞–µ—Ç –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–≤–µ–ª–∏—á–∏—Ç—å pyramid levels –≤ LK –¥–ª—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏

6. **–®—É–º –º–∏–Ω–∏–º–∞–ª–µ–Ω (std = 0.89)** ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ —Å—ä–µ–º–∫–∏.

7. **–°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å 1.91 px/frame** (~0.2% —à–∏—Ä–∏–Ω—ã –∫–∞–¥—Ä–∞) ‚Äî –º–µ–¥–ª–µ–Ω–Ω–æ–µ –ø–ª–∞–≤–∞–Ω–∏–µ, –æ–±–∞ –º–µ—Ç–æ–¥–∞ —Å–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –±–µ–∑ –ø—Ä–æ–±–ª–µ–º.

---

### –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–µ—Ç–æ–¥–æ–≤

| –§–∞–∫—Ç–æ—Ä | Lucas-Kanade | Farneb√§ck |
|--------|--------------|-----------|
| **–¢–µ–∫—Å—Ç—É—Ä–∞** | 
 –ö—Ä–∏—Ç–∏—á–Ω–∞ (–≥—Ä–∞–¥–∏–µ–Ω—Ç 14 ‚Äî –Ω–∞ –≥—Ä–∞–Ω–∏) |  –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–∞ |
| **Motion Blur** |  –û—á–µ–Ω—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω (variance 5.85 ‚Äî –ø—Ä–æ–±–ª–µ–º–Ω–æ) |  –°–≥–ª–∞–∂–∏–≤–∞–µ—Ç |
| **–¢–µ–Ω–∏** |  –£—Å—Ç–æ–π—á–∏–≤ (32.9% —Ç–µ–Ω–µ–π ‚Äî OK) |  –£—Å—Ç–æ–π—á–∏–≤ |
| **–®—É–º** |  –£—Å—Ç–æ–π—á–∏–≤ (std 0.89 ‚Äî –º–∞–ª–æ —à—É–º–∞) |  –£—Å—Ç–æ–π—á–∏–≤ |



##  –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. Complete Motion Analysis (–ö–∞–¥—Ä—ã 10, 30, 50)
–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –¥–≤–∏–∂–µ–Ω–∏—è –Ω–∞ –∫–ª—é—á–µ–≤—ã—Ö –∫–∞–¥—Ä–∞—Ö:
- –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∫–∞–¥—Ä
- Lucas-Kanade –æ—Ç—Å–ª–µ–∂–µ–Ω–Ω—ã–µ —Ç–æ—á–∫–∏
- Farneb√§ck HSV visualization
- Flow Magnitude (—Ç–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞)
- Motion Mask (–±–∏–Ω–∞—Ä–Ω–∞—è –º–∞—Å–∫–∞)
- Motion Vectors (–≤–µ–∫—Ç–æ—Ä–Ω–æ–µ –ø–æ–ª–µ)
![alt text](images/image.png)


![alt text](image-4.png)
![alt text](image-5.png)
![alt text](image-6.png)


### 2. Sensitivity Analysis
–ê–Ω–∞–ª–∏–∑ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫ 4 —Ñ–∞–∫—Ç–æ—Ä–∞–º:
- Original Frame (–∏—Å—Ö–æ–¥–Ω—ã–π –∫–∞–¥—Ä)
- Texture Map (–∫–∞—Ä—Ç–∞ –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–≤)
- Blur Map (–∫–∞—Ä—Ç–∞ —Ä–∞–∑–º—ã—Ç–∏—è)
- Shadow Mask (–º–∞—Å–∫–∞ —Ç–µ–Ω–µ–π)
- Noise Map (–∫–∞—Ä—Ç–∞ —à—É–º–∞)
- Intensity Distribution (–≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —è—Ä–∫–æ—Å—Ç–∏)

![alt text](image-7.png)

### 3. Lucas-Kanade Trajectory Tracking
–¢—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è —Ç–æ—á–µ–∫ –Ω–∞ –∫–∞–¥—Ä–∞—Ö 30, 60, 90:
- –ó–µ–ª—ë–Ω—ã–µ –ª–∏–Ω–∏–∏ = —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è
- –ó–µ–ª—ë–Ω—ã–µ —Ç–æ—á–∫–∏ = —Ç–µ–∫—É—â–∏–µ –ø–æ–∑–∏—Ü–∏–∏
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è

![alt text](image-8.png)
![alt text](image-2.png)


### 4. Corner Points Detected
–î–µ—Ç–µ–∫—Ü–∏—è 200 —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã—Ö —Ç–æ—á–µ–∫ (—É–≥–ª–æ–≤ Shi-Tomasi):
- –ó–µ–ª—ë–Ω—ã–µ –∫—Ä—É–≥–∏ = –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ —É–≥–ª—ã
- –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è –Ω–∞ –∫—Ä–∞—è—Ö —Ä—ã–±, –ø–ª–∞–≤–Ω–∏–∫–∞—Ö

![alt text](image-11.png)

### 5. Farneb√§ck Dense Optical Flow
- Frame 1 & Frame 2 (–∏—Å—Ö–æ–¥–Ω—ã–µ –∫–∞–¥—Ä—ã)
- Optical Flow HSV (—Ü–≤–µ—Ç–æ–≤–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
- Flow Magnitude (–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è)

![alt text](image-12.png)

### 6. Motion Detection and Segmentation
- Original Frame 2
- Flow Magnitude Heatmap
- Raw Motion Mask (threshold = 6.7)
- Filtered Motion Mask (–ø–æ—Å–ª–µ –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏)

![alt text](image-13.png)

### 7. Motion Field Vectors Overlay
–í–µ–∫—Ç–æ—Ä–Ω–æ–µ –ø–æ–ª–µ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏:
- –ó–µ–ª—ë–Ω—ã–µ —Å—Ç—Ä–µ–ª–∫–∏ = –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ —Å–∫–æ—Ä–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è
- –î–ª–∏–Ω–∞ —Å—Ç—Ä–µ–ª–∫–∏ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏

![alt text](image-9.png)

### 8. Mask Fragmentation Analysis
–ê–Ω–∞–ª–∏–∑ —Å–≤—è–∑–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:
- Original Frame 15
- Motion Mask (–±–∏–Ω–∞—Ä–Ω–∞—è)
- Connected Components (n=848) ‚Äî —Ü–≤–µ—Ç–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤

![alt text](image-15.png)

### 9. Motion Amplitude Over Time
–ì—Ä–∞—Ñ–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ä–µ–¥–Ω–µ–π –∞–º–ø–ª–∏—Ç—É–¥—ã –¥–≤–∏–∂–µ–Ω–∏—è –ø–æ –∫–∞–¥—Ä–∞–º:
- –í–∏–¥–Ω–∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∞—è –¥–∏–Ω–∞–º–∏–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å—Ç–∞–∏
- –ü–∏–∫ –Ω–∞ –∫–∞–¥—Ä–µ 45 (2.56 px/frame)
- –°–ø–∞–¥ –Ω–∞ –∫–∞–¥—Ä–µ 20 –∏ 80 (1.3-1.4 px/frame)

![alt text](image-14.png)
---

##  –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

### –≠—Ç–∞–ø—ã –∞–Ω–∞–ª–∏–∑–∞

1. **Preprocessing:**
   - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ grayscale
   - –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —è—Ä–∫–æ—Å—Ç–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

2. **Lucas-Kanade Pipeline:**
   - goodFeaturesToTrack ‚Üí calcOpticalFlowPyrLK ‚Üí trajectory building

3. **Farneb√§ck Pipeline:**
   - calcOpticalFlowFarneback ‚Üí magnitude computation ‚Üí adaptive thresholding ‚Üí morphological filtering

4. **Sensitivity Analysis:**
   - Texture: Sobel gradients
   - Blur: Laplacian variance
   - Shadows: Threshold-based detection
   - Noise: High-frequency component analysis

5. **Error Analysis:**
   - LK: tracking loss statistics
   - Farneb√§ck: noise in static regions
   - Segmentation: connected components analysis

6. **Comparative Evaluation:**
   - Speed, accuracy, coverage, robustness
